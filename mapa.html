<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>RRIA - Central de Navegação</title>

    <!-- Preserved Map Styles -->
    <link rel="stylesheet" href="style2.css">

    <!-- Layout Styles -->
    <link rel="stylesheet" href="mapaLayout.css">
    <link rel="stylesheet" href="mapaMobile.css"> <!-- New Mobile CSS -->
    <link rel="stylesheet" href="paginas/css/pageTransitions.css">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <script src="paginas/js/pageTransitions.js"></script>

    <!-- Mobile Sidebar Overlay (Optional kept if needed, visually hidden by CSS mostly) -->
    <div class="sidebar-overlay"></div>

    <div class="app-container">

        <!-- HEADER -->
        <header class="map-header fade-in-ui">
            <div class="header-left">


                <a href="index.html" class="back-btn" title="Voltar">
                    <span class="material-icons-round">arrow_back</span>
                </a>

                <div class="brand-info">
                    <h1>Painel de Controle</h1>
                    <span>RRIA System</span>
                </div>
            </div>
        </header>

        <!-- SIDEBAR (Desktop Fixed / Mobile Bottom Sheet) -->
        <aside class="sidebar">
            <!-- HANDLE BAR (Mobile Only) -->
            <div class="sheet-handle-area">
                <div class="sheet-handle"></div>
            </div>

            <div class="sidebar-content">
                <div class="sidebar-title">Painel de Eventos</div>

                <div class="controls-list">
                    <!-- Point 1 -->
                    <div class="control-item" data-target-id="1">
                        <div class="item-icon">
                            <span class="material-icons-round">settings_suggest</span>
                        </div>
                        <div class="item-info">
                            <h4>Motor de Decisão</h4>
                            <p>Lógica de reação</p>
                        </div>
                    </div>

                    <!-- Point 2 -->
                    <div class="control-item" data-target-id="2">
                        <div class="item-icon">
                            <span class="material-icons-round">dns</span>
                        </div>
                        <div class="item-info">
                            <h4>Arquitetura</h4>
                            <p>Estrutura de dados</p>
                        </div>
                    </div>

                    <!-- Point 3 -->
                    <div class="control-item" data-target-id="3">
                        <div class="item-icon">
                            <span class="material-icons-round">laptop</span>
                        </div>
                        <div class="item-info">
                            <h4>Interface</h4>
                            <p>Visual do Operador</p>
                        </div>
                    </div>

                    <!-- Point 4 -->
                    <div class="control-item" data-target-id="4">
                        <div class="item-icon">
                            <span class="material-icons-round">psychology</span>
                        </div>
                        <div class="item-info">
                            <h4>Psicologia</h4>
                            <p>Fator Humano</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar-footer">
                <button class="btn-fullscreen" id="btn-fullscreen-sidebar">
                    <span class="material-icons-round">fullscreen</span>
                    Tela Cheia
                </button>
            </div>
        </aside>

        <!-- MAP VIEW AREA -->
        <main class="map-view">
            <!-- WRAPPER (Preserved for map logic) -->
            <div class="map-wrapper">

                <!-- Original Hidden Buttons -->
                <button id="fullscreen-btn" class="fullscreen-btn" style="display: none;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                        <path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"
                            fill="#002C47" />
                    </svg>
                </button>
                <button id="exit-fullscreen-btn" class="fullscreen-btn" style="display: none;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                        <path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"
                            fill="#002C47" />
                    </svg>
                </button>

                <!-- Popup -->
                <div id="info-popup">
                    <button id="btn-fechar-popup">×</button>
                    <h4 id="popup-title">Título</h4>
                    <p id="popup-desc">Descrição...</p>
                    <button id="btn-viajar">Viajar</button>
                </div>

                <!-- Overlay -->
                <div id="arrival-overlay">
                    <h2>Você Chegou!</h2>
                    <p>Redirecionando...</p>
                </div>

                <!-- SVG MAP (EXACT ORIGINAL) -->
                <svg viewBox="0 0 800 600" preserveAspectRatio="xMidYMid meet" id="main-map">
                    <defs>
                        <pattern id="grass" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
                            <rect width="20" height="20" fill="#cbe6a3" />
                            <circle cx="5" cy="5" r="1.5" fill="#b5d685" />
                        </pattern>
                        <pattern id="building-pattern" x="0" y="0" width="10" height="10" patternUnits="userSpaceOnUse">
                            <rect width="10" height="10" fill="#f0f2f5" />
                            <rect x="0" y="0" width="9" height="9" fill="#e1e4e8" />
                        </pattern>
                    </defs>

                    <!-- Background Land -->
                    <rect width="800" height="600" fill="#e9ebee" />

                    <!-- Buildings & Logic -->
                    <path d="M-10,-10 L350,-10 L300,200 L100,250 L-10,150 Z" fill="url(#building-pattern)" stroke="#ccc"
                        stroke-width="1" />
                    <path d="M450,-10 L810,-10 L810,150 L600,250 L450,150 Z" fill="url(#building-pattern)" stroke="#ccc"
                        stroke-width="1" />
                    <path d="M-10,250 L250,300 L200,500 L-10,610 Z" fill="url(#building-pattern)" stroke="#ccc"
                        stroke-width="1" />
                    <path d="M500,350 L810,250 L810,610 L400,610 L350,450 Z" fill="url(#building-pattern)" stroke="#ccc"
                        stroke-width="1" />
                    <path d="M380,-10 L420,-10 L420,100 L380,100 Z" fill="url(#building-pattern)" stroke="#ccc"
                        stroke-width="1" />
                    <path d="M50,300 L150,350 L100,450 L20,400 Z" fill="url(#building-pattern)" stroke="#ccc"
                        stroke-width="1" />
                    <path d="M650,300 L750,350 L700,450 L620,400 Z" fill="url(#building-pattern)" stroke="#ccc"
                        stroke-width="1" />

                    <rect x="50" y="50" width="60" height="80" fill="#d1d5db" />
                    <rect x="150" y="30" width="100" height="60" fill="#d1d5db" />
                    <rect x="650" y="50" width="80" height="80" fill="#d1d5db" />
                    <rect x="50" y="400" width="100" height="100" fill="#d1d5db" />
                    <rect x="600" y="450" width="120" height="80" fill="#d1d5db" />
                    <rect x="300" y="50" width="50" height="50" fill="#d1d5db" />
                    <rect x="450" y="50" width="50" height="50" fill="#d1d5db" />

                    <path d="M280,400 L350,550 L450,550 L400,400 Z" fill="url(#grass)" />

                    <!-- Streets -->
                    <g fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M0,0 L350,250 L450,300 L800,600" stroke="#d6d6d6" stroke-width="28" />
                        <path d="M0,0 L350,250 L450,300 L800,600" stroke="#ffffff" stroke-width="24" />
                        <path d="M800,0 L450,300 L350,250 L0,600" stroke="#d6d6d6" stroke-width="28" />
                        <path d="M800,0 L450,300 L350,250 L0,600" stroke="#ffffff" stroke-width="24" />
                        <path d="M0,300 L800,300" stroke="#d6d6d6" stroke-width="24" />
                        <path d="M0,300 L800,300" stroke="#ffffff" stroke-width="20" />
                        <path d="M400,0 L400,600" stroke="#d6d6d6" stroke-width="24" />
                        <path d="M400,0 L400,600" stroke="#ffffff" stroke-width="20" />
                        <path d="M100,0 Q400,150 700,0" stroke="#d6d6d6" stroke-width="20" />
                        <path d="M100,0 Q400,150 700,0" stroke="#ffffff" stroke-width="16" />
                        <path d="M200,0 L200,600" stroke="#d6d6d6" stroke-width="16" />
                        <path d="M200,0 L200,600" stroke="#ffffff" stroke-width="12" />
                        <path d="M600,0 L600,600" stroke="#d6d6d6" stroke-width="16" />
                        <path d="M600,0 L600,600" stroke="#ffffff" stroke-width="12" />
                        <path d="M0,150 L800,150" stroke="#d6d6d6" stroke-width="16" />
                        <path d="M0,150 L800,150" stroke="#ffffff" stroke-width="12" />
                        <path d="M0,450 L800,450" stroke="#d6d6d6" stroke-width="16" />
                        <path d="M0,450 L800,450" stroke="#ffffff" stroke-width="12" />
                    </g>

                    <!-- Hidden Routes -->
                    <path id="route-1" d="M400,300 L350,250 L100,71" fill="none" stroke="none" />
                    <path id="route-2" d="M400,300 L450,300 L700,86" fill="none" stroke="none" />
                    <path id="route-3" d="M400,300 L350,250 L80,520" fill="none" stroke="none" />
                    <path id="route-4" d="M400,300 L450,300 L720,531" fill="none" stroke="none" />

                    <!-- Active Route -->
                    <path id="active-route" d="" stroke="#8b5cf6" stroke-width="8" fill="none" stroke-linecap="round"
                        stroke-linejoin="round" opacity="0.9" />

                    <!-- Start Point -->
                    <g id="start-point" transform="translate(400, 300)">
                        <circle r="20" fill="rgba(51, 204, 255, 0.2)" />
                        <circle r="14" fill="rgba(51, 204, 255, 0.4)" />
                        <circle r="10" fill="#33ccff" stroke="#fff" stroke-width="3" />
                        <circle r="4" fill="#fff" />
                    </g>

                    <!-- Destinations -->
                    <g class="map-point" data-id="1" transform="translate(90, 60)">
                        <circle r="15" fill="#ff5252" stroke="#fff" stroke-width="3" />
                        <text y="7" text-anchor="middle" fill="white" font-weight="bold" font-size="20">!</text>
                    </g>
                    <g class="map-point" data-id="2" transform="translate(710, 75)">
                        <circle r="15" fill="#ff5252" stroke="#fff" stroke-width="3" />
                        <text y="7" text-anchor="middle" fill="white" font-weight="bold" font-size="20">!</text>
                    </g>
                    <g class="map-point" data-id="3" transform="translate(70, 530)">
                        <circle r="15" fill="#ff5252" stroke="#fff" stroke-width="3" />
                        <text y="7" text-anchor="middle" fill="white" font-weight="bold" font-size="20">!</text>
                    </g>
                    <g class="map-point" data-id="4" transform="translate(730, 540)">
                        <circle r="15" fill="#ff5252" stroke="#fff" stroke-width="3" />
                        <text y="7" text-anchor="middle" fill="white" font-weight="bold" font-size="20">!</text>
                    </g>

                    <!-- Marker -->
                    <g id="car-marker" class="car-marker" transform="translate(400, 300) scale(0)">
                        <path d="M0,-15 L10,10 L0,5 L-10,10 Z" fill="#33ccff" stroke="#002C47" stroke-width="2" />
                    </g>

                </svg>
            </div>
            <!-- WRAPPER END -->
        </main>
    </div>

    <!-- Scripts -->
    <script src="mapa.js"></script>
    <script src="mapaLayout.js"></script>
    <script src="mapaMobile.js"></script> <!-- New Mobile Logic -->
</body>

</html>